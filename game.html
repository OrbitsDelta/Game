function handleLogout() {
    // Полная очистка данных
    localStorage.removeItem('playerName');
    
    // Сброс UI
    profileName.textContent = 'Гость';
    gameName.textContent = 'Не указано';
    profileAvatar.src = 'https://cdn-icons-png.flaticon.com/512/147/147144.png';
    regDate.textContent = 'Не указана';
    updateLoginStatus();
    
    // Закрытие модальных окон
    hideConfirmModal();
    
    // Оптимизированный редирект
    if (window.Telegram?.WebApp?.close) {
        Telegram.WebApp.close();
        setTimeout(() => {
            window.location.href = 'Page1.html?logout=1&t=' + Date.now();
        }, 300);
    } else {
        // Жесткий редирект для обычного браузера
        document.body.innerHTML = '';
        setTimeout(() => {
            window.location.replace('Page1.html?logout=1&t=' + Date.now());
        }, 100);
    }
}
